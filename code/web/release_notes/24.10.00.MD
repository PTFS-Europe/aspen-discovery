## Aspen LiDA Updates
- Added sorting options including by library account to Checked Out Titles. (Tickets 106685, 130068, 134795, 136283) (*KP*)

## Aspen Discovery Updates
// mark - Grove
### Administration Updates
- Add the ability to assign a user multiple locations to administer. (DIS-10) (*MDN*)
  - When assigning or editing permissions for a user, the administrator will be able to choose additional locations for the user to administer. 
  - For all pages where a user does not have the permission to administer all settings (i.e., Administer Library Format Sorting vs. Administer All Format Sorting), the list of available settings will include relevant settings for the user's home library/location as well as any selected additional locations.
- Prevent read-only fields from being batch updated within the object editor. (DIS-23) (*MDN*)
- Allow Account Profile URLs for Vendor OPAC Url and Webservice/Patron API Url to contain ports. (Issue 1965) (*MDN*)
- Allow properties lists to have additional panels within the form. (*MDN*)
- Separate additional list actions from standard actions like Export and Delete (*MDN*)

### API Documentation
- Add Swagger documentation for login method within UserAPI. (*MDN*)
- Migrate Swagger 2.0 documentation to OpenAPI v3.1.0 (*MAF*)

### Aspen Materials Request Updates
- Add new options to Materials Request Statuses to define which should be checked to see if the requests are eligible for holds, which should be set after a hold is placed successfully, and which should be used if a hold fails to be placed. (DIS-18) (*MDN*)
  - Create a new default statuses for "Hold Placed Successfully", and "Hold Failed", existing sites are not updated with the new statuses. 
  - Update the default status of "Item purchased" to be an open status.
- Add the ability to map formats between formats in the catalog and formats defined for materials requests using the new menu option Materials Requests > Format Mapping (DIS-18) (*MDN*)
  - All Aspen formats will be shown by default, and the administrator can choose the Materials Request Format that applies. 
  - Active formats can be easily updated by the administrator. 
- Created a new cron task to generate available hold candidates for each request that has a status with "Check for holds?" set. (DIS-18) (*MDN*)
  - If the request has an ISBN, UPC, or ISSN set for it, Aspen will search based on those numbers. 
  - If the request does not have an ISBN, UPC, or ISSN set, Aspen will search based on the title and author of the request.
  - When title(s) are found that match the criteria, they will be added as hold candidates for the request.
  - Aspen will use the hold mapping defined above to ensure that the format within the catalog matches the format requested by the patron.
- Create a new page to show and manage all requests that need holds (Materials Request > Requests Needing Holds) (DIS-18) (*MDN*)
  - All requests that have at least one hold candidate where holds have not been created will be shown. 
  - From the new page, staff can select a hold candidate to place holds on if more than one hold candidate is available. 
  - Staff can place holds for individual requests or selected requests. 
  - After placing a hold, staff is informed of the result and the status is updated if the hold was placed successfully. 
  - From this page, staff can also move selected requests to another status if they wish to skip placing a hold or if they wish to place the hold manually. 
- Remove deprecated method to load additional information about a request from WorldCat. (*MDN*)
- Remove old Import Materials Requests function that attempted to import Materials Requests from an XLS file. (*MDN*)

<div markdown="1" class="settings">

#### New Permissions
- Materials Request > Place Holds For Materials Requests - Allows users to place holds for users that have active Materials Requests once titles are added to the catalog.

#### New Settings
- Materials Request > Format Mapping
- Materials Request > Requests Needing Holds
- Materials Request > Manage Statuses > Check for holds? - If the status has this option checked, any requests with this title will be checked to see if the title is in Aspen so a hold can be placed for it.
- Materials Request > Manage Statuses > Hold Placed Successfully? - Only one status can be flagged with this option. When a hold is placed successfully, the request will be moved to this status
- Materials Request > Manage Statuses > Hold Failed? - Only one status can be flagged with this option. When a hold cannot be placed, the request will be moved to this status. (Staff can also choose to not move requests to this status and retry later)

</div>

### Palace Project Updates
- Correct deleting Palace Project Titles. (*MDN*)

### Polaris Updates
- After a hold is placed, trigger an update of the related record from Polaris so hold copy counts will update. (*MDN*)

### Other Updates
- Remove old development site configurations. (DIS-22) (*MDN*)
- Finish removal of PHPExcel (no longer supported in PHP 8) (*MDN*)
- During upgrades, automatically look for php cron update files and run them automatically. This eliminates the need to create separate upgrade scripts for each version to simply update cron. (*MDN*) 
- Allow queries within a search object to be cleared so the object can be reused. (*MDN*)
- Set SMTP port when sending email using SMTP settings. (*MDN*)

// katherine - ByWater

// kirstien - ByWater
### API Updates
- Added deleteAspenUser endpoint in User API to delete the provided Aspen user and related data. (*KK*)
- Added catalogRegistrationCapabilities to library config output for the getLibraryInfo endpoint in System API. (*KK*)

### Other Updates
- Fixed a mislabeled variable causing an error when trying to connect to SIP for testing self-checkouts. (*KK*)

// kodi - ByWater

// kyle - ByWater

// liz - ByWater
### Other Updates
- Add a new backup job for Debian systems that uses Mydumper which enables threaded, table-wise backups and restores. (backupAspen-mydumper.php) (*LR*)

// morgan - ByWater
### Other Updates
- Adjusted tooltip for the setting "Automatically Update Hours from the ILS" for clarity. (Ticket 138766) (*MKD*)

// jeremy - Howell-Carnegie
### Open Archives Updates
- Add date formatting setting for OpenArchives collections to select how to show the date metadata to allow for flexibility of EDTF date formats (*JE*)

<div markdown="1" class="settings">

#### New Settings
- Open Archives > Collections > Date Formatting

</div>

// james - Nashville

// alexander - PTFS-E
### Privacy Updates
- For libraries that require consent to use analytics cookies, users have the ability to opt in or out of localAnalyticsTracking. (*AB*)
- For libraries that do not require consent to use analytics cookies, local analytics data continues to be tracked as it is currently. For libraries that require consent to use analytics cookies, users are opted out of localAnalyticsTracking by default and can choose to opt in (*AB*)
- When a user opts out of localAnalyticsTracking, their stored data is cleared from the relevant user_usage statistics tables. (*AB*)
- When the cron runs for the first time after a library enables cookieStorageConsent, users who have not opted in to localAnalyticsTracking will have their data cleared from the user_usage statistics tables. (*AB*)

// chloe - PTFS-E 
- Added a 'Show Editions in the Where is it popup' setting to Aspen Administration > Catalog/Grouped Works > Grouped Work Display > ... > Searching> Search Results, which groups copies in the 'Where is it?' popup by edition, displaying each edition's name and book cover thumbnail in the popup (visibility toggled on/off by 'Show Covers for Editions') (*CZ*)## Aspen Usage Data
- Added usage graphs and raw data tables for the Axis360, Aspen API, and SideLoads usage dashboards, all of which include a CSV download feature. (*CZ*)
// pedro - PTFS-E

// lucas - Theke
### Other updates
- Now in Author Authorities, when you add a new filter and press the 'enter' key, you will trigger the 'Apply filters' instead of delete them (*LM*)

### Koha Driver Updates
- Create a user agent to handle requests to Koha. (*LM*)

// tomas - Theke


## This release includes code contributions from
- ByWater Solutions
  - Katherine Perdue (KP)
  - Kirstien Kroeger (KK)
  - Kodi Lein (KL)
  - Kyle M Hall (KMH)
  - Morgan Daigneault (MKD)
  - Liz Rea (LR)

- Grove For Libraries
  - Mark Noble (MDN)

- Howell Carnegie District Library
  - Jeremy Eden (JE)

- Nashville Public Library
  - James Staub (JStaub)
  
- PTFS-Europe
  - Alexander Blanchard (AB)
  - Chloe Zermatten (CZ)
  - Pedro Amorim (PA)

- Theke Solutions
  - Lucas Montoya (LM)
  - Tomas Cohen Arazi (TC)

- Myranda Fuentes (MAF)


## This release includes sponsored developments from
- San Luis Obispo County Library
